{"version":3,"sources":["../../../app/db/index.js"],"names":["config","require","logger","Mongoose","Promise","global","connect","dbURI","useMongoClient","connection","on","log","error","chatUser","Schema","profileId","String","fullName","profilePic","userModel","model","module","exports"],"mappings":";;AAAA,IAAMA,SAASC,QAAQ,WAAR,CAAf;AACA,IAAMC,SAASD,QAAQ,WAAR,CAAf;AACA,IAAME,WAAWF,QAAQ,UAAR,CAAjB;;AAEAE,SAASC,OAAT,GAAmBC,OAAOD,OAA1B;;AAEAD,SAASG,OAAT,CAAiBN,OAAOO,KAAxB,EAA+B,EAACC,gBAAgB,IAAjB,EAA/B;;AAEAL,SAASM,UAAT,CAAoBC,EAApB,CAAuB,OAAvB,EAAgC,iBAAS;AACrCR,WAAOS,GAAP,CAAW,OAAX,EAAoB,gCAAgCC,KAApD;AACH,CAFD;;AAIA;;AAEA,IAAMC,WAAW,IAAIV,SAASW,MAAb,CAAoB;AACjCC,eAAWC,MADsB;AAEjCC,cAAUD,MAFuB;AAGjCE,gBAAYF;AAHqB,CAApB,CAAjB;;AAMA;AACA;AACA,IAAIG,YAAYhB,SAASiB,KAAT,CAAe,UAAf,EAA2BP,QAA3B,CAAhB;;AAEAQ,OAAOC,OAAP,GAAiB;AACbnB,sBADa;AAEbgB;AAFa,CAAjB","file":"index.js","sourcesContent":["const config = require('../config');\nconst logger = require('../logger');\nconst Mongoose = require('mongoose');\n\nMongoose.Promise = global.Promise;\n\nMongoose.connect(config.dbURI, {useMongoClient: true,});\n\nMongoose.connection.on('error', error => {\n    logger.log(\"error\", \"Mongoose connection error: \" + error);\n});\n\n// Create a Schema for storing user data\n\nconst chatUser = new Mongoose.Schema({\n    profileId: String,\n    fullName: String,\n    profilePic: String\n});\n\n// turn Schema into a model\n// by naming the model chatUser, mongodb will make a new collection of chatUsers (plural)\nlet userModel = Mongoose.model(\"chatUser\", chatUser);\n\nmodule.exports = {\n    Mongoose,\n    userModel\n};\n"]}