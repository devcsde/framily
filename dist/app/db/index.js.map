{"version":3,"sources":["../../../app/db/index.js"],"names":["config","require","logger","Mongoose","Promise","global","connect","dbURI","useMongoClient","connection","on","log","error","chatUser","Schema","profileId","String","fullName","profilePic","userModel","model","module","exports"],"mappings":";;AAAA,IAAMA,SAASC,QAAQ,WAAR,CAAf;AACA,IAAMC,SAASD,QAAQ,WAAR,CAAf;AACA,IAAME,WAAWF,QAAQ,UAAR,CAAjB;;AAEAE,SAASC,OAAT,GAAmBC,OAAOD,OAA1B;;AAEAD,SAASG,OAAT,CAAiBN,OAAOO,KAAxB,EAA+B,EAACC,gBAAgB,IAAjB,EAA/B;;AAEAL,SAASM,UAAT,CAAoBC,EAApB,CAAuB,OAAvB,EAAgC,iBAAS;AACrCR,WAAOS,GAAP,CAAW,OAAX,EAAoB,gCAAgCC,KAApD;AACH,CAFD;;AAIA;;AAEA,IAAMC,WAAW,IAAIV,SAASW,MAAb,CAAoB;AACjCC,eAAWC,MADsB;AAEjCC,cAAUD,MAFuB;AAGjCE,gBAAYF;AAHqB,CAApB,CAAjB;;AAMA;AACA;AACA,IAAIG,YAAYhB,SAASiB,KAAT,CAAe,UAAf,EAA2BP,QAA3B,CAAhB;;AAEAQ,OAAOC,OAAP,GAAiB;AACbnB,sBADa;AAEbgB;AAFa,CAAjB","file":"index.js","sourcesContent":["const config = require('../config');\r\nconst logger = require('../logger');\r\nconst Mongoose = require('mongoose');\r\n\r\nMongoose.Promise = global.Promise;\r\n\r\nMongoose.connect(config.dbURI, {useMongoClient: true,});\r\n\r\nMongoose.connection.on('error', error => {\r\n    logger.log(\"error\", \"Mongoose connection error: \" + error);\r\n});\r\n\r\n// Create a Schema for storing user data\r\n\r\nconst chatUser = new Mongoose.Schema({\r\n    profileId: String,\r\n    fullName: String,\r\n    profilePic: String\r\n});\r\n\r\n// turn Schema into a model\r\n// by naming the model chatUser, mongodb will make a new collection of chatUsers (plural)\r\nlet userModel = Mongoose.model(\"chatUser\", chatUser);\r\n\r\nmodule.exports = {\r\n    Mongoose,\r\n    userModel\r\n};\r\n"]}